{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\ball.js"],"names":["cc","Class","extends","Component","properties","acceleration","onLoad","accLeft","accRight","accUp","accDown","xSpeed","ySpeed","setInputControl","ballSize","width","height","self","eventManager","addListener","event","EventListener","KEYBOARD","onKeyPressed","keyCode","KEY","a","d","w","s","onKeyReleased","node","update","dt","x","y"],"mappings":"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","file":"ball.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\r\n\t\tacceleration: 0\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\t\t\r\n\t\t// switch of acceleration direction\r\n        this.accLeft = false;\r\n        this.accRight = false;\r\n\t\tthis.accUp = false;\r\n\t\tthis.accDown = false;\r\n        // current horizontal speed of main character\r\n        this.xSpeed = 0;\r\n\t\tthis.ySpeed = 0;\r\n\t\tthis.setInputControl();\r\n\t\t\r\n\t\tthis.ballSize =127/2;\r\n\t\t\r\n\t\tthis.width = 960/2;\r\n\t\tthis.height = 640/2;\r\n\t\t\r\n    },\r\n\t\r\n\tsetInputControl: function () {\r\n        var self = this;\r\n        // add keyboard event listener\r\n        cc.eventManager.addListener({\r\n            event: cc.EventListener.KEYBOARD,\r\n            // When there is a key being pressed down, judge if it's the designated directional button and set up acceleration in the corresponding direction\r\n            onKeyPressed: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accLeft = true;\r\n                        self.accRight = false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accLeft = false;\r\n                        self.accRight = true;\r\n                        break;\r\n                    case cc.KEY.w:\r\n                        self.accDown = false;\r\n                        self.accUp = true;\r\n                        break;\r\n\t\t\t\t\tcase cc.KEY.s:\r\n                        self.accUp = false;\r\n                        self.accDown = true;\r\n                        break;\r\n                }\r\n            },\r\n            // when releasing the button, stop acceleration in this direction\r\n            onKeyReleased: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accLeft = false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accRight = false;\r\n                        break;\r\n\t\t\t\t\tcase cc.KEY.w:\r\n                        self.accUp = false;\r\n                        break;\r\n\t\t\t\t\tcase cc.KEY.s:\r\n                        self.accDown = false;\r\n                        break;\r\n                }\r\n            }\r\n        }, self.node);\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n\t\t\r\n\t\t// update speed of each frame according to the current acceleration direction\r\n        if (this.accLeft) {\r\n            this.xSpeed -= 5 * this.acceleration * dt;\r\n\t\t\tif (this.node.x <= (-1*this.width+this.ballSize)) this.xSpeed = 0;\r\n        } else if (this.accRight) {\r\n            this.xSpeed += 5 * this.acceleration * dt;\r\n\t\t\tif (this.node.x >= (this.width-this.ballSize)) this.xSpeed = 0;\r\n        } else {\r\n\t\t\tthis.xSpeed = 0;\r\n\t\t}\r\n\t\t// Up & Down\r\n\t\t if (this.accUp) {\r\n            this.ySpeed += 5 * this.acceleration * dt;\r\n\t\t\tif (this.node.y >= (this.height-this.ballSize)) this.ySpeed = 0;\r\n        } else if (this.accDown) {\r\n            this.ySpeed -= 5 * this.acceleration * dt;\r\n\t\t\tif (this.node.y <= (-1*this.height+this.ballSize)) this.ySpeed = 0;\r\n        } else {\r\n\t\t\tthis.ySpeed = 0;\r\n\t\t}\r\n\t\t\r\n        // update the position of the main character according to the current speed\r\n        this.node.x += this.xSpeed * dt;\r\n        this.node.y += this.ySpeed * dt;\r\n\t\t\r\n    },\r\n});\r\n"]}